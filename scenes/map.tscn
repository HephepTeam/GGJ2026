[gd_scene format=4 uid="uid://7h053ghxefjb"]

[ext_resource type="Texture2D" uid="uid://druqw2v0sm5gt" path="res://assets/corner.png" id="1_0cso3"]
[ext_resource type="Texture2D" uid="uid://ufk54kode1wb" path="res://assets/tilesheet.png" id="1_4xfga"]
[ext_resource type="Texture2D" uid="uid://bpujf01aao5cm" path="res://assets/wall.png" id="2_2klcf"]
[ext_resource type="Texture2D" uid="uid://cf3w4rhojr72t" path="res://assets/ground.png" id="4_2lpho"]
[ext_resource type="Script" uid="uid://cfduyg3rk3v7y" path="res://scenes/room.gd" id="5_2klcf"]
[ext_resource type="PackedScene" uid="uid://imwi3ugshkya" path="res://scenes/Enemy/enemy.tscn" id="6_nakos"]
[ext_resource type="Resource" uid="uid://cow18rshugplg" path="res://ressources/mask0.tres" id="7_jh32y"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_nakos"]
texture = ExtResource("1_0cso3")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 0, 0, 0, 0, 32, -32, 32)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jh32y"]
texture = ExtResource("2_2klcf")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -32, 32, -32, 32, 0, -32, 0)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_paxxb"]
texture = ExtResource("1_4xfga")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
9:0/0 = 0
9:1/0 = 0
10:0/0 = 0
11:2/0 = 0
11:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_be0no"]
texture = ExtResource("4_2lpho")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_gldc4"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 8
physics_layer_0/collision_mask = 0
sources/2 = SubResource("TileSetAtlasSource_paxxb")
sources/0 = SubResource("TileSetAtlasSource_nakos")
sources/1 = SubResource("TileSetAtlasSource_jh32y")
sources/3 = SubResource("TileSetAtlasSource_be0no")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0cso3"]
size = Vector2(944, 944)

[sub_resource type="Curve2D" id="Curve2D_be0no"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 108, 101, 0, 0, 0, 0, 923, 101, 0, 0, 0, 0, 928, 918, 0, 0, 0, 0, 116, 905, 0, 0, 0, 0, 121, 176, 0, 0, 0, 0, 853, 182, 0, 0, 0, 0, 850, 830, 0, 0, 0, 0, 202, 830, 0, 0, 0, 0, 189, 246, 0, 0, 0, 0, 791, 252, 0, 0, 0, 0, 775, 768, 0, 0, 0, 0, 282, 768, 0, 0, 0, 0, 277, 327, 0, 0, 0, 0, 723, 327, 0, 0, 0, 0, 700, 682, 0, 0, 0, 0, 337, 690, 0, 0, 0, 0, 368, 405, 0, 0, 0, 0, 663, 402, 0, 0, 0, 0, 643, 599, 0, 0, 0, 0, 446, 610, 0, 0, 0, 0, 456, 490, 0, 0, 0, 0, 580, 498)
}
point_count = 22

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jh32y"]
resource_local_to_scene = true
size = Vector2(128, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_be0no"]
resource_local_to_scene = true
size = Vector2(32, 128)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_blm8a"]
resource_local_to_scene = true
size = Vector2(128, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mlgqr"]
size = Vector2(32, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_nakos"]
atlas = ExtResource("1_4xfga")
region = Rect2(704, 0, 64, 27)

[sub_resource type="SpriteFrames" id="SpriteFrames_jh32y"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nakos")
}],
"loop": true,
"name": &"closed",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": null
}],
"loop": true,
"name": &"open",
"speed": 5.0
}]

[node name="Room" type="TileMapLayer" unique_id=103331890]
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAFAOAAAAAQAAAAAAAAANAAAAAQAAAAAAAAAMAAAAAQAAAAAAAAALAAAAAQAAAAAAAAAKAAAAAQAAAAAAAAAJAAAAAQAAAAAAAAAGAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAADAAAAAQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAEAAQAAAAAAAGAAAAIAAQAAAAAAAGAAAAMAAQAAAAAAAGAAAAQAAQAAAAAAAGAAAAUAAQAAAAAAAGAAAAYAAQAAAAAAAGAAAAkAAQAAAAAAAGAAAA8AAAAAAAAAAGAAAAoAAQAAAAAAAGAAAAsAAQAAAAAAAGAAAAwAAQAAAAAAAGAAAA0AAQAAAAAAAGAAAA4AAQAAAAAAAGABAA8AAQAAAAAAADACAA8AAQAAAAAAADADAA8AAQAAAAAAADAEAA8AAQAAAAAAADAFAA8AAQAAAAAAADAGAA8AAQAAAAAAADAJAA8AAQAAAAAAADAKAA8AAQAAAAAAADALAA8AAQAAAAAAADAMAA8AAQAAAAAAADANAA8AAQAAAAAAADAOAA8AAQAAAAAAADAPAA8AAAAAAAAAADAPAAEAAQAAAAAAAFAPAAIAAQAAAAAAAFAPAAMAAQAAAAAAAFAPAAQAAQAAAAAAAFAPAAUAAQAAAAAAAFAPAAkAAQAAAAAAAFAPAAoAAQAAAAAAAFAPAAsAAQAAAAAAAFAPAAwAAQAAAAAAAFAPAA0AAQAAAAAAAFAPAA4AAQAAAAAAAFAPAAYAAQAAAAAAAFABAAEAAwAAAAAAAAABAAIAAwAAAAAAAAABAAMAAwAAAAAAAAABAAQAAwAAAAAAAAABAAUAAwAAAAAAAAABAAYAAwAAAAAAAAABAAcAAwAAAAAAAAABAAgAAwAAAAAAAAACAAEAAwAAAAAAAAACAAIAAwAAAAAAAAACAAMAAwAAAAAAAAACAAQAAwAAAAAAAAACAAUAAwAAAAAAAAACAAYAAwAAAAAAAAACAAcAAwAAAAAAAAACAAgAAwAAAAAAAAADAAEAAwAAAAAAAAADAAIAAwAAAAAAAAADAAMAAwAAAAAAAAADAAQAAwAAAAAAAAADAAUAAwAAAAAAAAADAAYAAwAAAAAAAAADAAcAAwAAAAAAAAADAAgAAwAAAAAAAAAEAAEAAwAAAAAAAAAEAAIAAwAAAAAAAAAEAAMAAwAAAAAAAAAEAAQAAwAAAAAAAAAEAAUAAwAAAAAAAAAEAAYAAwAAAAAAAAAEAAcAAwAAAAAAAAAEAAgAAwAAAAAAAAAFAAEAAwAAAAAAAAAFAAIAAwAAAAAAAAAFAAMAAwAAAAAAAAAFAAQAAwAAAAAAAAAFAAUAAwAAAAAAAAAFAAYAAwAAAAAAAAAFAAcAAwAAAAAAAAAFAAgAAwAAAAAAAAAGAAEAAwAAAAAAAAAGAAIAAwAAAAAAAAAGAAMAAwAAAAAAAAAGAAQAAwAAAAAAAAAGAAUAAwAAAAAAAAAGAAYAAwAAAAAAAAAGAAcAAwAAAAAAAAAGAAgAAwAAAAAAAAAHAAEAAwAAAAAAAAAHAAIAAwAAAAAAAAAHAAMAAwAAAAAAAAAHAAQAAwAAAAAAAAAHAAUAAwAAAAAAAAAHAAYAAwAAAAAAAAAHAAcAAwAAAAAAAAAHAAgAAwAAAAAAAAAIAAEAAwAAAAAAAAAIAAIAAwAAAAAAAAAIAAMAAwAAAAAAAAAIAAQAAwAAAAAAAAAIAAUAAwAAAAAAAAAIAAYAAwAAAAAAAAAIAAcAAwAAAAAAAAAIAAgAAwAAAAAAAAAJAAEAAwAAAAAAAAAJAAIAAwAAAAAAAAAJAAMAAwAAAAAAAAAJAAQAAwAAAAAAAAAJAAUAAwAAAAAAAAAJAAYAAwAAAAAAAAAJAAcAAwAAAAAAAAAJAAgAAwAAAAAAAAAKAAEAAwAAAAAAAAAKAAIAAwAAAAAAAAAKAAMAAwAAAAAAAAAKAAQAAwAAAAAAAAAKAAUAAwAAAAAAAAAKAAYAAwAAAAAAAAAKAAcAAwAAAAAAAAAKAAgAAwAAAAAAAAALAAEAAwAAAAAAAAALAAIAAwAAAAAAAAALAAMAAwAAAAAAAAALAAQAAwAAAAAAAAALAAUAAwAAAAAAAAALAAYAAwAAAAAAAAALAAcAAwAAAAAAAAALAAgAAwAAAAAAAAAMAAEAAwAAAAAAAAAMAAIAAwAAAAAAAAAMAAMAAwAAAAAAAAAMAAQAAwAAAAAAAAAMAAUAAwAAAAAAAAAMAAYAAwAAAAAAAAAMAAcAAwAAAAAAAAAMAAgAAwAAAAAAAAANAAEAAwAAAAAAAAANAAIAAwAAAAAAAAANAAMAAwAAAAAAAAANAAQAAwAAAAAAAAANAAUAAwAAAAAAAAANAAYAAwAAAAAAAAANAAcAAwAAAAAAAAANAAgAAwAAAAAAAAAOAAEAAwAAAAAAAAAOAAIAAwAAAAAAAAAOAAMAAwAAAAAAAAAOAAQAAwAAAAAAAAAOAAUAAwAAAAAAAAAOAAYAAwAAAAAAAAAOAAcAAwAAAAAAAAAOAAgAAwAAAAAAAAABAAkAAwAAAAAAAAABAAoAAwAAAAAAAAABAAsAAwAAAAAAAAABAAwAAwAAAAAAAAABAA0AAwAAAAAAAAABAA4AAwAAAAAAAAACAAkAAwAAAAAAAAACAAoAAwAAAAAAAAACAAsAAwAAAAAAAAACAAwAAwAAAAAAAAACAA0AAwAAAAAAAAACAA4AAwAAAAAAAAADAAkAAwAAAAAAAAADAAoAAwAAAAAAAAADAAsAAwAAAAAAAAADAAwAAwAAAAAAAAADAA0AAwAAAAAAAAADAA4AAwAAAAAAAAAEAAkAAwAAAAAAAAAEAAoAAwAAAAAAAAAEAAsAAwAAAAAAAAAEAAwAAwAAAAAAAAAEAA0AAwAAAAAAAAAEAA4AAwAAAAAAAAAFAAkAAwAAAAAAAAAFAAoAAwAAAAAAAAAFAAsAAwAAAAAAAAAFAAwAAwAAAAAAAAAFAA0AAwAAAAAAAAAFAA4AAwAAAAAAAAAGAAkAAwAAAAAAAAAGAAoAAwAAAAAAAAAGAAsAAwAAAAAAAAAGAAwAAwAAAAAAAAAGAA0AAwAAAAAAAAAGAA4AAwAAAAAAAAAHAAkAAwAAAAAAAAAHAAoAAwAAAAAAAAAHAAsAAwAAAAAAAAAHAAwAAwAAAAAAAAAHAA0AAwAAAAAAAAAHAA4AAwAAAAAAAAAIAAkAAwAAAAAAAAAIAAoAAwAAAAAAAAAIAAsAAwAAAAAAAAAIAAwAAwAAAAAAAAAIAA0AAwAAAAAAAAAIAA4AAwAAAAAAAAAJAAkAAwAAAAAAAAAJAAoAAwAAAAAAAAAJAAsAAwAAAAAAAAAJAAwAAwAAAAAAAAAJAA0AAwAAAAAAAAAJAA4AAwAAAAAAAAAKAAkAAwAAAAAAAAAKAAoAAwAAAAAAAAAKAAsAAwAAAAAAAAAKAAwAAwAAAAAAAAAKAA0AAwAAAAAAAAAKAA4AAwAAAAAAAAALAAkAAwAAAAAAAAALAAoAAwAAAAAAAAALAAsAAwAAAAAAAAALAAwAAwAAAAAAAAALAA0AAwAAAAAAAAALAA4AAwAAAAAAAAAMAAkAAwAAAAAAAAAMAAoAAwAAAAAAAAAMAAsAAwAAAAAAAAAMAAwAAwAAAAAAAAAMAA0AAwAAAAAAAAAMAA4AAwAAAAAAAAANAAkAAwAAAAAAAAANAAoAAwAAAAAAAAANAAsAAwAAAAAAAAANAAwAAwAAAAAAAAANAA0AAwAAAAAAAAANAA4AAwAAAAAAAAAOAAkAAwAAAAAAAAAOAAoAAwAAAAAAAAAOAAsAAwAAAAAAAAAOAAwAAwAAAAAAAAAOAA0AAwAAAAAAAAAOAA4AAwAAAAAAAAAPAAcAAQAAAAAAAFAPAAgAAQAAAAAAAFAIAA8AAQAAAAAAADAHAA8AAQAAAAAAADAAAAcAAQAAAAAAAGAAAAgAAQAAAAAAAGAIAAAAAQAAAAAAAAAHAAAAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_gldc4")
script = ExtResource("5_2klcf")
enemy_scene = ExtResource("6_nakos")
enemy_mask_resource = ExtResource("7_jh32y")

[node name="EnterZone" type="Area2D" parent="." unique_id=829790746]
collision_layer = 0
collision_mask = 32

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnterZone" unique_id=716262850]
position = Vector2(512, 512)
shape = SubResource("RectangleShape2D_0cso3")

[node name="SpawnerPath2D" type="Path2D" parent="." unique_id=1895952122]
curve = SubResource("Curve2D_be0no")

[node name="PathFollow2D" type="PathFollow2D" parent="SpawnerPath2D" unique_id=902759051]
unique_name_in_owner = true
position = Vector2(108, 101)

[node name="SpawnTimer" type="Timer" parent="." unique_id=1539147471]
unique_name_in_owner = true

[node name="DoorsCollision" type="StaticBody2D" parent="." unique_id=546810971]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorsCollision" unique_id=2026908805]
position = Vector2(512, 16)
shape = SubResource("RectangleShape2D_jh32y")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="DoorsCollision" unique_id=389319286]
position = Vector2(1008, 512)
shape = SubResource("RectangleShape2D_be0no")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="DoorsCollision" unique_id=1612481671]
position = Vector2(512, 1008)
shape = SubResource("RectangleShape2D_blm8a")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="DoorsCollision" unique_id=1334455116]
position = Vector2(16, 512)
shape = SubResource("RectangleShape2D_mlgqr")
disabled = true

[node name="Doors" type="Node2D" parent="." unique_id=2098281456]

[node name="doorW" type="AnimatedSprite2D" parent="Doors" unique_id=1219728616]
position = Vector2(16, 512)
rotation = 1.5707964
scale = Vector2(1.9998624, 1)
sprite_frames = SubResource("SpriteFrames_jh32y")
animation = &"open"

[node name="doorE" type="AnimatedSprite2D" parent="Doors" unique_id=1652147627]
position = Vector2(1008, 512)
rotation = 1.5707964
scale = Vector2(1.9998624, 1)
sprite_frames = SubResource("SpriteFrames_jh32y")
animation = &"open"

[node name="doorN" type="AnimatedSprite2D" parent="Doors" unique_id=1916578819]
position = Vector2(512, 24)
scale = Vector2(1.9998624, 1)
sprite_frames = SubResource("SpriteFrames_jh32y")
animation = &"open"

[node name="doorS" type="AnimatedSprite2D" parent="Doors" unique_id=493274410]
position = Vector2(512, 1008)
scale = Vector2(1.9998624, 1)
sprite_frames = SubResource("SpriteFrames_jh32y")
animation = &"open"

[connection signal="body_entered" from="EnterZone" to="." method="_on_enter_zone_body_entered"]
[connection signal="timeout" from="SpawnTimer" to="." method="_on_spawn_timer_timeout"]
